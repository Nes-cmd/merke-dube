import{r as l,o as we,h as U,f as xe,m as me,s as Ee,R as g,_ as ve,c as b,g as ge,b as Ne,I as Re,O as Ie}from"./app-CRCs68rE.js";import{v as Oe,o as _e,N as Fe,M as $e,u as Pe,O as je,Q as Ce,I as Be}from"./EllipsisOutlined-BN-ZZJYF.js";import{B as ze,t as Ae,s as he,R as Ke,v as Me,u as De,h as pe,j as Ve}from"./BaseInput-CfSJKDsY.js";import{b as Te}from"./index-Bx08ww7s.js";var Le=["show"];function ke(e,s){return l.useMemo(function(){var u={};s&&(u.show=we(s)==="object"&&s.formatter?s.formatter:!!s),u=U(U({},u),e);var r=u,n=r.show,d=xe(r,Le);return U(U({},d),{},{show:!!n,showFormatter:typeof n=="function"?n:void 0,strategy:d.strategy||function(v){return v.length}})},[e,s])}var Ue=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],We=l.forwardRef(function(e,s){var u=e.autoComplete,r=e.onChange,n=e.onFocus,d=e.onBlur,v=e.onPressEnter,C=e.onKeyDown,E=e.onKeyUp,j=e.prefixCls,h=j===void 0?"rc-input":j,N=e.disabled,W=e.htmlSize,Y=e.className,Z=e.maxLength,B=e.suffix,H=e.showCount,z=e.count,R=e.type,ee=R===void 0?"text":R,te=e.classes,x=e.classNames,m=e.styles,A=e.onCompositionStart,K=e.onCompositionEnd,ne=xe(e,Ue),ae=l.useState(!1),M=me(ae,2),oe=M[0],a=M[1],$=l.useRef(!1),p=l.useRef(!1),i=l.useRef(null),I=l.useRef(null),D=function(t){i.current&&Ae(i.current,t)},se=Oe(e.defaultValue,{value:e.value}),Q=me(se,2),V=Q[0],y=Q[1],T=V==null?"":String(V),re=l.useState(null),q=me(re,2),w=q[0],le=q[1],f=ke(z,H),O=f.max||Z,_=f.strategy(T),ue=!!O&&_>O;l.useImperativeHandle(s,function(){var o;return{focus:D,blur:function(){var c;(c=i.current)===null||c===void 0||c.blur()},setSelectionRange:function(c,k,P){var F;(F=i.current)===null||F===void 0||F.setSelectionRange(c,k,P)},select:function(){var c;(c=i.current)===null||c===void 0||c.select()},input:i.current,nativeElement:((o=I.current)===null||o===void 0?void 0:o.nativeElement)||i.current}}),l.useEffect(function(){p.current&&(p.current=!1),a(function(o){return o&&N?!1:o})},[N]);var G=function(t,c,k){var P=c;if(!$.current&&f.exceedFormatter&&f.max&&f.strategy(c)>f.max){if(P=f.exceedFormatter(c,{max:f.max}),c!==P){var F,de;le([((F=i.current)===null||F===void 0?void 0:F.selectionStart)||0,((de=i.current)===null||de===void 0?void 0:de.selectionEnd)||0])}}else if(k.source==="compositionEnd")return;y(P),i.current&&he(i.current,t,r,P)};l.useEffect(function(){if(w){var o;(o=i.current)===null||o===void 0||o.setSelectionRange.apply(o,Ee(w))}},[w]);var ie=function(t){G(t,t.target.value,{source:"change"})},ce=function(t){$.current=!1,G(t,t.currentTarget.value,{source:"compositionEnd"}),K==null||K(t)},fe=function(t){v&&t.key==="Enter"&&!p.current&&(p.current=!0,v(t)),C==null||C(t)},J=function(t){t.key==="Enter"&&(p.current=!1),E==null||E(t)},X=function(t){a(!0),n==null||n(t)},S=function(t){p.current&&(p.current=!1),a(!1),d==null||d(t)},L=function(t){y(""),D(),i.current&&he(i.current,t,r)},ye=ue&&"".concat(h,"-out-of-range"),Se=function(){var t=_e(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return g.createElement("input",ve({autoComplete:u},t,{onChange:ie,onFocus:X,onBlur:S,onKeyDown:fe,onKeyUp:J,className:b(h,ge({},"".concat(h,"-disabled"),N),x==null?void 0:x.input),style:m==null?void 0:m.input,ref:i,size:W,type:ee,onCompositionStart:function(k){$.current=!0,A==null||A(k)},onCompositionEnd:ce}))},be=function(){var t=Number(O)>0;if(B||f.show){var c=f.showFormatter?f.showFormatter({value:T,count:_,maxLength:O}):"".concat(_).concat(t?" / ".concat(O):"");return g.createElement(g.Fragment,null,f.show&&g.createElement("span",{className:b("".concat(h,"-show-count-suffix"),ge({},"".concat(h,"-show-count-has-suffix"),!!B),x==null?void 0:x.count),style:U({},m==null?void 0:m.count)},c),B)}return null};return g.createElement(ze,ve({},ne,{prefixCls:h,className:b(Y,ye),handleReset:L,value:T,focused:oe,triggerFocus:D,suffix:be(),disabled:N,classes:te,classNames:x,styles:m,ref:I}),Se())});const He=e=>{let s;return typeof e=="object"&&(e!=null&&e.clearIcon)?s=e:e&&(s={clearIcon:g.createElement(Ke,null)}),s};function Qe(e,s){const u=l.useRef([]),r=()=>{u.current.push(setTimeout(()=>{var n,d,v,C;!((n=e.current)===null||n===void 0)&&n.input&&((d=e.current)===null||d===void 0?void 0:d.input.getAttribute("type"))==="password"&&(!((v=e.current)===null||v===void 0)&&v.input.hasAttribute("value"))&&((C=e.current)===null||C===void 0||C.input.removeAttribute("value"))}))};return l.useEffect(()=>(s&&r(),()=>u.current.forEach(n=>{n&&clearTimeout(n)})),[]),r}function qe(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var Ge=function(e,s){var u={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(u[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(u[r[n]]=e[r[n]]);return u};const nt=l.forwardRef((e,s)=>{const{prefixCls:u,bordered:r=!0,status:n,size:d,disabled:v,onBlur:C,onFocus:E,suffix:j,allowClear:h,addonAfter:N,addonBefore:W,className:Y,style:Z,styles:B,rootClassName:H,onChange:z,classNames:R,variant:ee}=e,te=Ge(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:x,direction:m,allowClear:A,autoComplete:K,className:ne,style:ae,classNames:M,styles:oe}=Ne("input"),a=x("input",u),$=l.useRef(null),p=Fe(a),[i,I,D]=Me(a,H),[se]=De(a,p),{compactSize:Q,compactItemClassnames:V}=$e(a,m),y=Pe(S=>{var L;return(L=d??Q)!==null&&L!==void 0?L:S}),T=g.useContext(Re),re=v??T,{status:q,hasFeedback:w,feedbackIcon:le}=l.useContext(je),f=Ve(q,n),O=qe(e)||!!w;l.useRef(O);const _=Qe($,!0),ue=S=>{_(),C==null||C(S)},G=S=>{_(),E==null||E(S)},ie=S=>{_(),z==null||z(S)},ce=(w||j)&&g.createElement(g.Fragment,null,j,w&&le),fe=He(h??A),[J,X]=Te("input",ee,r);return i(se(g.createElement(We,Object.assign({ref:Ie(s,$),prefixCls:a,autoComplete:K},te,{disabled:re,onBlur:ue,onFocus:G,style:Object.assign(Object.assign({},ae),Z),styles:Object.assign(Object.assign({},oe),B),suffix:ce,allowClear:fe,className:b(Y,H,D,p,V,ne),onChange:ie,addonBefore:W&&g.createElement(Ce,{form:!0,space:!0},W),addonAfter:N&&g.createElement(Ce,{form:!0,space:!0},N),classNames:Object.assign(Object.assign(Object.assign({},R),M),{input:b({[`${a}-sm`]:y==="small",[`${a}-lg`]:y==="large",[`${a}-rtl`]:m==="rtl"},R==null?void 0:R.input,M.input,I),variant:b({[`${a}-${J}`]:X},pe(a,f)),affixWrapper:b({[`${a}-affix-wrapper-sm`]:y==="small",[`${a}-affix-wrapper-lg`]:y==="large",[`${a}-affix-wrapper-rtl`]:m==="rtl"},I),wrapper:b({[`${a}-group-rtl`]:m==="rtl"},I),groupWrapper:b({[`${a}-group-wrapper-sm`]:y==="small",[`${a}-group-wrapper-lg`]:y==="large",[`${a}-group-wrapper-rtl`]:m==="rtl",[`${a}-group-wrapper-${J}`]:X},pe(`${a}-group-wrapper`,f,w),I)})}))))});var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Xe=function(s,u){return l.createElement(Be,ve({},s,{ref:u,icon:Je}))},at=l.forwardRef(Xe);export{nt as I,at as R,ke as a,He as g,Qe as u};
