import{u as f,r as S,v as I,j as e,$ as b}from"./app-CRCs68rE.js";import{A as w}from"./AuthenticatedLayout-C40XysMS.js";import{C as q}from"./index-CC03SSas.js";import{F as a}from"./index-dGg0aISM.js";import{S as d,s as C}from"./index-BzAFGkKR.js";import{T as m}from"./index-BZhV6rLF.js";import{B as N}from"./EllipsisOutlined-BN-ZZJYF.js";/* empty css            */import"./MenuOutlined-CSJrGBAl.js";import"./move-DVxTIaS1.js";import"./index-Bx08ww7s.js";import"./row-vOp5nfUz.js";import"./index-BLSJKx67.js";import"./BaseInput-CfSJKDsY.js";import"./SearchOutlined-DiR9Qobr.js";import"./DownOutlined-V-h3AYIb.js";const{Option:p}=d,G=({auth:h,shops:u,items:c})=>{const{t:i}=f(),[l,x]=S.useState(null),{data:n,setData:o,post:y,processing:v,errors:r}=I({shop_id:"",item_id:"",quantity:1,selling_price:0}),j=t=>{const s=c.find(_=>_.id===t);x(s),s&&o({...n,item_id:s.id,selling_price:s.selling_price||0})},g=()=>{y(route("inventory.store"),{onSuccess:()=>{C.success(i("Inventory added successfully!")),window.location.href=route("inventory.index")}})};return e.jsxs(w,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:i("Add Inventory")}),children:[e.jsx(b,{title:i("Add Inventory")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsx(q,{title:i("Add Inventory to Shop"),className:"mb-6",children:e.jsxs(a,{layout:"vertical",onFinish:g,children:[e.jsx(a.Item,{label:i("Shop"),required:!0,validateStatus:r.shop_id?"error":"",help:r.shop_id,children:e.jsx(d,{placeholder:i("Select a shop"),value:n.shop_id,onChange:t=>o("shop_id",t),style:{width:"100%"},children:u.map(t=>e.jsx(p,{value:t.id,children:t.name},t.id))})}),e.jsx(a.Item,{label:i("Item"),required:!0,validateStatus:r.item_id?"error":"",help:r.item_id,children:e.jsx(d,{showSearch:!0,placeholder:i("Select an item"),optionFilterProp:"children",value:n.item_id,onChange:j,filterOption:(t,s)=>s.children.toLowerCase().indexOf(t.toLowerCase())>=0,style:{width:"100%"},children:c.map(t=>e.jsxs(p,{value:t.id,children:[t.name," (",i("Available"),": ",t.quantity,")"]},t.id))})}),l&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:[e.jsxs("p",{children:[i("Warehouse Quantity"),": ",l.quantity]}),e.jsxs("p",{children:[i("Purchase Price"),": ",parseFloat(l.purchase_price).toFixed(2)]})]}),e.jsx(a.Item,{label:i("Quantity to Transfer"),validateStatus:r.quantity?"error":"",help:r.quantity,children:e.jsx(m,{min:1,max:l?l.quantity:1,value:n.quantity,onChange:t=>o("quantity",t),style:{width:"100%"}})}),e.jsx(a.Item,{label:i("Selling Price"),validateStatus:r.selling_price?"error":"",help:r.selling_price,children:e.jsx(m,{min:0,step:.01,value:n.selling_price,onChange:t=>o("selling_price",t),style:{width:"100%"}})}),e.jsx(a.Item,{children:e.jsx(N,{type:"primary",htmlType:"submit",loading:v,className:"bg-primary-500",children:i("Add to Shop Inventory")})})]})})})})})]})};export{G as default};
