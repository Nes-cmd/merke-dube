import{u as Z,r as m,v as g,R as ee,j as e,$ as se}from"./app-CRCs68rE.js";import{A as re,R as ae,c as te,a as oe}from"./AuthenticatedLayout-C40XysMS.js";import{s as i}from"./index-BzAFGkKR.js";import{P as N}from"./index-DuJge9IZ.js";import{B as h}from"./EllipsisOutlined-BN-ZZJYF.js";import{R as w}from"./DeleteOutlined-5vXBziNG.js";import{T as M,R as S}from"./index-Bx08ww7s.js";import{C as x}from"./index-CC03SSas.js";import{R as C,F as I}from"./Table-Cs1RrENC.js";import{a as ne}from"./MenuOutlined-CSJrGBAl.js";import{R as ie}from"./AppstoreOutlined-BbRxsK_y.js";import{M as T}from"./index-BaIi0PFn.js";import{F as n}from"./index-dGg0aISM.js";import{I as d}from"./index-ySzzkY_X.js";/* empty css            */import"./move-DVxTIaS1.js";import"./BaseInput-CfSJKDsY.js";import"./SearchOutlined-DiR9Qobr.js";import"./DownOutlined-V-h3AYIb.js";import"./index-BY1PwM7l.js";import"./styleChecker-D6B7uQ6j.js";import"./addEventListener-BWQubspr.js";import"./index-DZxQkxSO.js";import"./index-CUWDS_la.js";import"./EyeOutlined-_2BUD01o.js";import"./index-BLSJKx67.js";import"./row-vOp5nfUz.js";const{TabPane:u}=M,{TextArea:E}=d,Pe=({auth:j,workers:R,isOwner:A,categories:D,shops:L,flash:p})=>{const{t:s,locale:P,setLocale:F}=Z(),[$,V]=m.useState("1"),[k,_]=m.useState(window.innerWidth),[B,f]=m.useState(!1),[W,v]=m.useState(!1),[q,b]=m.useState(!1),t=g({name:"",phone:""}),o=g({name:"",description:""}),a=g({name:"",location:"",phone:"",description:""}),{delete:y}=g();m.useEffect(()=>{const r=()=>{_(window.innerWidth)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),ee.useEffect(()=>{p.message&&i.success(p.message),p.error&&i.error(p.error)},[p]);const z=()=>{t.post(route("settings.add-worker"),{onSuccess:()=>{v(!1),t.reset(),i.success(s("Team member added successfully"))},onError:r=>{console.error(r)}})},K=r=>{y(route("settings.remove-worker",r),{onSuccess:()=>{i.success(s("Team member removed successfully"))},onError:()=>{i.error(s("Failed to remove team member"))}})},O=()=>{o.post(route("settings.add-category"),{onSuccess:()=>{f(!1),o.reset()},onError:r=>{console.error(r)}})},Y=r=>{y(route("settings.delete-category",r),{onSuccess:()=>{i.success(s("Category deleted successfully"))},onError:()=>{i.error(s("Failed to delete category"))}})},G=r=>{const c=r.target.value;F(c)},H=()=>{a.post(route("shops.store"),{onSuccess:()=>{b(!1),a.reset(),i.success(s("Shop added successfully"))},onError:r=>{console.error(r)}})},J=r=>{y(route("settings.delete-shop",r),{onSuccess:()=>{i.success(s("Shop deleted successfully"))},onError:()=>{i.error(s("Failed to delete shop"))}})},Q=[{title:s("Name"),dataIndex:"name",key:"name"},{title:s("Phone"),dataIndex:"phone_number",key:"phone_number"},{title:s("Actions"),key:"actions",render:(r,c)=>e.jsx(N,{title:s("Are you sure you want to remove this team member?"),onConfirm:()=>K(c.id),okText:s("Yes"),cancelText:s("No"),children:e.jsx(h,{danger:!0,icon:e.jsx(w,{})})})}],U=[{title:s("Name"),dataIndex:"name",key:"name"},{title:s("Description"),dataIndex:"description",key:"description",responsive:["md"]},{title:s("Actions"),key:"actions",render:(r,c)=>e.jsx(N,{title:s("Are you sure you want to delete this category?"),onConfirm:()=>Y(c.id),okText:s("Yes"),cancelText:s("No"),children:e.jsx(h,{danger:!0,icon:e.jsx(w,{})})})}],X=[{title:s("Name"),dataIndex:"name",key:"name",render:(r,c)=>e.jsx("a",{href:route("shops.show",c.id),children:r})},{title:s("Location"),dataIndex:"location",key:"location",responsive:["md"]},{title:s("Phone"),dataIndex:"phone",key:"phone",responsive:["lg"]},{title:s("Actions"),key:"actions",render:(r,c)=>e.jsx(N,{title:s("Are you sure you want to delete this shop?"),onConfirm:()=>J(c.id),okText:s("Yes"),cancelText:s("No"),okButtonProps:{danger:!0},children:e.jsx(h,{danger:!0,icon:e.jsx(w,{}),size:"small",children:s("Delete")})})}],l=k<768?"top":"left";return e.jsxs(re,{user:j.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s("Settings")}),children:[e.jsx(se,{title:s("Settings")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs(M,{activeKey:$,onChange:V,tabPosition:l,className:"settings-tabs",children:[e.jsx(u,{tab:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ne,{className:l==="top"?"mr-1":"mr-2"}),e.jsx("span",{className:l==="top"?"hidden sm:inline":"",children:s("Language")})]}),children:e.jsx(x,{title:s("Language Settings"),className:"mb-6",children:e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-lg font-medium mb-2",children:s("Select Language")}),e.jsxs(C.Group,{value:P,onChange:G,children:[e.jsx(C.Button,{value:"en",children:"English"}),e.jsx(C.Button,{value:"am",children:"አማርኛ"})]})]})})})},"1"),e.jsx(u,{tab:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ae,{className:l==="top"?"mr-1":"mr-2"}),e.jsx("span",{className:l==="top"?"hidden sm:inline":"",children:s("Profile")})]}),children:e.jsx(x,{title:s("Profile Information"),className:"mb-6",children:e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center mb-4",children:[e.jsxs("div",{className:"font-medium w-32 mb-2 md:mb-0",children:[s("Name"),":"]}),e.jsx("div",{children:j.user.name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center mb-4",children:[e.jsxs("div",{className:"font-medium w-32 mb-2 md:mb-0",children:[s("Email"),":"]}),e.jsx("div",{children:j.user.email})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center",children:[e.jsxs("div",{className:"font-medium w-32 mb-2 md:mb-0",children:[s("Phone"),":"]}),e.jsx("div",{children:j.user.phone_number||s("Not provided")})]})]})})},"2"),A&&e.jsx(u,{tab:e.jsxs("span",{className:"flex items-center",children:[e.jsx(te,{className:l==="top"?"mr-1":"mr-2"}),e.jsx("span",{className:l==="top"?"hidden sm:inline":"",children:s("Team")})]}),children:e.jsx(x,{title:s("Team Members"),className:"mb-6",extra:e.jsx(h,{type:"primary",icon:e.jsx(S,{}),onClick:()=>v(!0),className:"bg-primary-500",children:s("Team")}),children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(I,{dataSource:R,columns:Q,rowKey:"id",pagination:!1,scroll:{x:"max-content"}})})})},"3"),e.jsx(u,{tab:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ie,{className:l==="top"?"mr-1":"mr-2"}),e.jsx("span",{className:l==="top"?"hidden sm:inline":"",children:s("Categories")})]}),children:e.jsx(x,{title:s("Manage Categories"),className:"mb-6",extra:e.jsx(h,{type:"primary",icon:e.jsx(S,{}),onClick:()=>f(!0),className:"bg-primary-500",children:s("Add Category")}),children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(I,{dataSource:D,columns:U,rowKey:"id",pagination:!1,scroll:{x:"max-content"}})})})},"4"),e.jsx(u,{tab:e.jsxs("span",{className:"tab-label",children:[e.jsx(oe,{}),k>=768&&e.jsx("span",{className:"ml-2",children:s("Shops")})]}),children:e.jsx(x,{title:s("Shops"),className:"mb-6",extra:e.jsx(h,{type:"primary",icon:e.jsx(S,{}),onClick:()=>b(!0),className:"bg-primary-500",children:s("Shop")}),children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(I,{dataSource:L,columns:X,rowKey:"id",pagination:!1,scroll:{x:"max-content"}})})})},"5")]})})})}),e.jsx(T,{title:s("Add New Category"),open:B,onOk:O,onCancel:()=>{f(!1),o.reset()},confirmLoading:o.processing,children:e.jsxs(n,{layout:"vertical",children:[e.jsx(n.Item,{label:s("Category Name"),validateStatus:o.errors.name?"error":"",help:o.errors.name,required:!0,children:e.jsx(d,{value:o.data.name,onChange:r=>o.setData("name",r.target.value),placeholder:s("Enter category name")})}),e.jsx(n.Item,{label:s("Description"),validateStatus:o.errors.description?"error":"",help:o.errors.description,children:e.jsx(E,{value:o.data.description,onChange:r=>o.setData("description",r.target.value),placeholder:s("Enter category description (optional)"),rows:4})})]})}),e.jsx(T,{title:s("Add New Team Member"),open:W,onOk:z,onCancel:()=>{v(!1),t.reset()},confirmLoading:t.processing,children:e.jsxs(n,{layout:"vertical",children:[e.jsx(n.Item,{label:s("Name"),validateStatus:t.errors.name?"error":"",help:t.errors.name,required:!0,children:e.jsx(d,{value:t.data.name,onChange:r=>t.setData("name",r.target.value),placeholder:s("Enter team member name")})}),e.jsx(n.Item,{label:s("Phone Number"),validateStatus:t.errors.phone?"error":"",help:t.errors.phone,required:!0,children:e.jsx(d,{value:t.data.phone,onChange:r=>t.setData("phone",r.target.value),placeholder:s("Enter phone number")})})]})}),e.jsx(T,{title:s("Add New Shop"),open:q,onOk:H,onCancel:()=>{b(!1),a.reset()},confirmLoading:a.processing,children:e.jsxs(n,{layout:"vertical",children:[e.jsx(n.Item,{label:s("Shop Name"),validateStatus:a.errors.name?"error":"",help:a.errors.name,required:!0,children:e.jsx(d,{value:a.data.name,onChange:r=>a.setData("name",r.target.value),placeholder:s("Enter shop name")})}),e.jsx(n.Item,{label:s("Location"),validateStatus:a.errors.location?"error":"",help:a.errors.location,children:e.jsx(d,{value:a.data.location,onChange:r=>a.setData("location",r.target.value),placeholder:s("Enter shop location")})}),e.jsx(n.Item,{label:s("Phone"),validateStatus:a.errors.phone?"error":"",help:a.errors.phone,children:e.jsx(d,{value:a.data.phone,onChange:r=>a.setData("phone",r.target.value),placeholder:s("Enter shop phone")})}),e.jsx(n.Item,{label:s("Description"),validateStatus:a.errors.description?"error":"",help:a.errors.description,children:e.jsx(E,{value:a.data.description,onChange:r=>a.setData("description",r.target.value),placeholder:s("Enter shop description (optional)"),rows:4})})]})})]})};export{Pe as default};
